#@ load("@ytt:data","data")

#@ def shared_config_volumes():
- name: cloud-controller-ng-yaml
  configMap:
    name: cloud-controller-ng-yaml
- name: cloud-controller-ng-secrets-yaml
  configMap:
    name: cloud-controller-ng-secrets-yaml
- name: cf-api-db-password
  secret:
    secretName: #@ data.values.ccdb.password_secret_name
- name: cf-api-username-lookup-client-secret
  secret:
    secretName: #@ data.values.uaa.clients.cloud_controller_username_lookup.secret_name
- name: cf-api-blobstore-secret-access-key
  secret:
    secretName: #@ data.values.blobstore.secret_access_key_secret_name
#@ end

#@ def shared_config_volume_mounts():
- name: cloud-controller-ng-yaml
  mountPath: /config/cloud_controller_ng.yml
  subPath: cloud_controller_ng.yml
- name: cloud-controller-ng-secrets-yaml
  mountPath: /config/secrets.yml
  subPath: secrets.yml
#! secrets for credentials used in config
- name: cf-api-db-password
  mountPath: /etc/cf-api/ccdb
- name: cf-api-username-lookup-client-secret
  mountPath: /etc/cf-api/username-lookup-client-secret
- name: cf-api-blobstore-secret-access-key
  mountPath: /etc/cf-api/blobstore/secret-access-key
#@ end
